{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "if echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.command' 2>/dev/null | grep -q '^git commit'; then echo 'ðŸ” æª¢æŸ¥ Git æäº¤æ ¼å¼...'; COMMIT_MSG=$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.command' 2>/dev/null); if ! echo \"$COMMIT_MSG\" | grep -qE '\\[20[0-9]{6}\\]'; then echo 'âŒ æäº¤æ ¼å¼éŒ¯èª¤ï¼šå¿…é ˆåŒ…å« [YYYYMMDD] æ ¼å¼' >&2; exit 1; fi; if echo \"$COMMIT_MSG\" | grep -qiE '(AI|Claude|Anthropic|LLM|æ©Ÿå™¨äºº|è‡ªå‹•ç”Ÿæˆ|Generated|Automated|Bot|Assistant|ðŸ¤–)'; then echo 'âŒ æäº¤è¨Šæ¯åŒ…å«ç¦æ­¢è©žå½™' >&2; exit 1; fi; echo 'âœ… Git æäº¤æ ¼å¼æª¢æŸ¥é€šéŽ'; fi"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -d \"memories\" ]; then mkdir -p memories/logs memories/short_term && echo \"$(date '+%Y-%m-%d %H:%M:%S'): Claude Code å°è©±çµæŸ\" >> memories/logs/hook_$(date +%Y%m%d).log && echo \"æœ€å¾Œæ›´æ–°æ™‚é–“: $(date '+%Y-%m-%d %H:%M:%S')\" > memories/short_term/last_session_updated.txt && echo 'ðŸ”„ è¨˜æ†¶é«”ç³»çµ±å·²æ›´æ–°'; fi"
          }
        ]
      }
    ]
  }
}